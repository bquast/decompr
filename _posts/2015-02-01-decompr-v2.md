---
layout: post
title: "decompr v2"
author: Bastiaan_Quast
excerpt: "Info about the changes in version 2 of decompr"
comments: true
---

In version 2 of decompr the input method for decompr has been slightly revised. This addresses the problem of the double header used in the old input format, which required the data to be loaded with `stringsAsFactors=FALSE`. The new input format requires the elements to be provided seperately. The elements required are:

* intermediate demand
* final demand
* country names
* industry names
* final output

Although loading the data is somewhat more work, it is much less cumbersome and therefore error prone.

A fallback mode has been implemented in order to facilitate a smooth transition. However, a warning message will be displayed, reminding the user to update the code.

In addition to this, a new [minimalist dataset](/decompr/leather-data) has been bundled, in order to introduce the user to the data format as well as the difference between the two decomposition methods.


Functions
---------
Version 2 contains the following functions.

* `load_tables_vectors`
* `leontief`
* `wwz`
* `decomp`

The process of setting up the various data structures (`load_tables_vectors`) for the decomposition together with the subsequent decomposition (`wwz` or `leontief`) can be rather resource / time consuming. For this reason we have chosen to implement these steps as seperate functions, so that the process can be split up into two steps.

In addtion to this, a wrapper function (`decomp`) is also provided which combines the two, thus also providing the user with option to run both steps at the same time.

